#!/bin/bash

filename=$1
if [[ -z "$filename" ]];then
    # If there is no filename passed in, then lets assume we want to open the cwd.
    dir=$(dirname "$PWD")
else
    # we have a filename, so lets determine the abs of the file
    # and mount that directory
    abs=$(readlink -f "$filename")
    dir=$(dirname "$abs")
fi
docker run -it --rm -v "$dir":/data fxdgear/alpine-neovim:latest /usr/local/bin/nvim "$@"
